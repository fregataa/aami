# Sprint Plan

## Sprint 5 - ì‹œìŠ¤í…œ ìš´ì˜ ì¤€ë¹„

### ğŸ¯ Sprint ëª©í‘œ
í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± ë° ìš´ì˜ í™˜ê²½ ë°°í¬ ì¤€ë¹„

---

## ğŸ“‹ Sprint 5 ì‘ì—… í•­ëª©

### 1. Service Discovery ê¸°ëŠ¥ ì™„ì„± ğŸ”
**ìš°ì„ ìˆœìœ„**: HIGH
**ëª©ì **: Prometheus ìë™ ì„¤ì • ìƒì„±

#### ì‘ì—… ë‚´ìš©
- [ ] Prometheus HTTP SD ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
  - Target ëª©ë¡ì„ Prometheus SD í˜•ì‹ìœ¼ë¡œ ë°˜í™˜
  - Label ê¸°ë°˜ í•„í„°ë§ ì§€ì›
  - ë™ì  ì—…ë°ì´íŠ¸ ì§€ì›

- [ ] File SD ìƒì„± ê¸°ëŠ¥ êµ¬í˜„
  - Static configuration íŒŒì¼ ìƒì„±
  - ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ ë©”ì»¤ë‹ˆì¦˜
  - íŒŒì¼ í¬ë§· ê²€ì¦

#### ì™„ë£Œ ì¡°ê±´
- `/api/v1/sd/prometheus` ì—”ë“œí¬ì¸íŠ¸ ì‘ë™
- Prometheusê°€ ì •ìƒì ìœ¼ë¡œ íƒ€ê²Ÿ ìˆ˜ì§‘
- File SD íŒŒì¼ ìƒì„± ë° ê°±ì‹  í™•ì¸

---

### 2. Health Check ì—”ë“œí¬ì¸íŠ¸ ê°•í™” âœ…
**ìš°ì„ ìˆœìœ„**: HIGH
**ëª©ì **: ìš´ì˜ ê°€ì‹œì„± í™•ë³´

#### ì‘ì—… ë‚´ìš©
- [ ] Readiness probe êµ¬í˜„
  - Database ì—°ê²° ìƒíƒœ í™•ì¸
  - í•„ìˆ˜ ì˜ì¡´ì„± ì²´í¬

- [ ] Liveness probe êµ¬í˜„
  - ê¸°ë³¸ ì„œë²„ ë™ì‘ í™•ì¸
  - Goroutine ìƒíƒœ í™•ì¸

#### ì™„ë£Œ ì¡°ê±´
- `/health` ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ ì •ë³´ ë°˜í™˜
- Kubernetes probe ì—°ë™ ê°€ëŠ¥
- ì¥ì•  ìƒí™© ê°ì§€ ë° ë³µêµ¬ í™•ì¸

---

### 3. ì»¨í…Œì´ë„ˆí™” ğŸ³
**ìš°ì„ ìˆœìœ„**: MEDIUM
**ëª©ì **: ë°°í¬ ìë™í™” ë° í™˜ê²½ ì¼ê´€ì„±

#### ì‘ì—… ë‚´ìš©
- [ ] Dockerfile ì‘ì„±
  - Multi-stage build
  - ìµœì†Œ ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”
  - ë³´ì•ˆ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì ìš©

- [ ] Docker Compose ê°œë°œ í™˜ê²½
  - PostgreSQL ì»¨í…Œì´ë„ˆ
  - Config Server ì»¨í…Œì´ë„ˆ
  - ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

#### ì™„ë£Œ ì¡°ê±´
- `docker build` ì„±ê³µ
- `docker-compose up` ìœ¼ë¡œ ì „ì²´ ìŠ¤íƒ ì‹¤í–‰ ê°€ëŠ¥
- ì»¨í…Œì´ë„ˆ ê°„ í†µì‹  í™•ì¸

---

### 4. Kubernetes ë°°í¬ ì¤€ë¹„ â˜¸ï¸
**ìš°ì„ ìˆœìœ„**: MEDIUM
**ëª©ì **: í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ ì¤€ë¹„

#### ì‘ì—… ë‚´ìš©
- [ ] Kubernetes Manifests ì‘ì„±
  - Deployment ì •ì˜
  - Service ì •ì˜
  - ConfigMap/Secret ì •ì˜
  - Ingress ì •ì˜

- [ ] Helm Chart ì‘ì„± (ì„ íƒì‚¬í•­)
  - Chart êµ¬ì¡° ì„¤ê³„
  - values.yaml í…œí”Œë¦¿
  - í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬

#### ì™„ë£Œ ì¡°ê±´
- `kubectl apply` ë¡œ ë°°í¬ ê°€ëŠ¥
- Health check ì •ìƒ ì‘ë™
- Rolling update ê²€ì¦

---

### 5. Structured Logging ğŸ“
**ìš°ì„ ìˆœìœ„**: LOW
**ëª©ì **: ë¡œê·¸ ë¶„ì„ ë° ëª¨ë‹ˆí„°ë§ ê°œì„ 

#### ì‘ì—… ë‚´ìš©
- [ ] JSON í¬ë§· ë¡œê·¸ ì¶œë ¥
  - êµ¬ì¡°í™”ëœ ë¡œê·¸ í¬ë§·
  - Log level ì„¤ì • (DEBUG, INFO, WARN, ERROR)
  - Timestamp ë° Request ID ì¶”ê°€

- [ ] ë¡œê·¸ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
  - Request ID ì „íŒŒ
  - ì‚¬ìš©ì ì •ë³´ ë¡œê¹…
  - ì—ëŸ¬ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤

#### ì™„ë£Œ ì¡°ê±´
- ëª¨ë“  ë¡œê·¸ê°€ JSON í¬ë§·
- ë¡œê·¸ ë ˆë²¨ ë™ì  ë³€ê²½ ê°€ëŠ¥
- ELK Stack ì—°ë™ ì¤€ë¹„ ì™„ë£Œ

---

## ğŸ”„ ì¶”í›„ Sprintë¡œ ì´ì—°ëœ í•­ëª©

### Sprint 6+ (ì˜ˆì •)

#### í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• ğŸ§ª
**ì´ì—° ì‚¬ìœ **: í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± ë° ìš´ì˜ ë°°í¬ ìš°ì„ 

- Unit Test ì‘ì„±
  - Service layer ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸
  - Repository layer í…ŒìŠ¤íŠ¸
  - Domain model í…ŒìŠ¤íŠ¸

- Integration Test ì‘ì„±
  - API ì—”ë“œí¬ì¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸
  - Database íŠ¸ëœì­ì…˜ í…ŒìŠ¤íŠ¸
  - E2E ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

- Test Coverage ëª©í‘œ: >70%
- Testcontainers í™œìš©

---

#### API ë¬¸ì„œí™” ğŸ“š
**ì´ì—° ì‚¬ìœ **: ë‚´ë¶€ ê°œë°œ ìš°ì„ , ì™¸ë¶€ ê³µê°œ ì „ ì‘ì—…

- OpenAPI/Swagger ìŠ¤í™ ì‘ì„±
  - ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œí™”
  - Request/Response ìŠ¤í‚¤ë§ˆ ì •ì˜
  - ì˜ˆì‹œ ë° ì—ëŸ¬ ì½”ë“œ ì„¤ëª…

- Swagger UI í†µí•©
  - `/api/docs` ì—”ë“œí¬ì¸íŠ¸ ì œê³µ
  - Interactive API í…ŒìŠ¤íŒ…

---

#### Metrics ë…¸ì¶œ ğŸ“Š
**ì´ì—° ì‚¬ìœ **: ê¸°ë³¸ ëª¨ë‹ˆí„°ë§ í›„ ê³ ê¸‰ ê¸°ëŠ¥ ì¶”ê°€

- Prometheus metrics ì—”ë“œí¬ì¸íŠ¸
  - HTTP request í†µê³„
  - Database query ì„±ëŠ¥ ì§€í‘œ
  - Custom business metrics

---

## ğŸ“ˆ Sprint ì§„í–‰ ìƒí™©

### ì™„ë£Œëœ Sprint

#### Sprint 4 âœ…
- CheckTemplate/CheckInstance ì‹œìŠ¤í…œ êµ¬í˜„
- Template-Instance ë””ì»¤í”Œë§ (Deep copy íŒ¨í„´)
- Priority ì‹œìŠ¤í…œ ë³€ê²½ (ë†’ì€ ìˆ«ì = ë†’ì€ ìš°ì„ ìˆœìœ„)
- Target-Group ê´€ê³„ ì¬ì„¤ê³„ (Junction table)
- GetEffectiveChecksByTargetID êµ¬í˜„

---

## ğŸ¯ í–¥í›„ ë¡œë“œë§µ

### Sprint 6 ì´í›„ ê²€í†  í•­ëª©

1. **ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬**
   - JWT ê¸°ë°˜ ì¸ì¦
   - RBAC (Role-Based Access Control)
   - API Key ê´€ë¦¬

2. **Performance Optimization**
   - Query ìµœì í™”
   - ìºì‹± ì „ëµ (í–¥í›„ êµ¬í˜„)
   - Connection pooling íŠœë‹

3. **ë°ì´í„° ê´€ë¦¬**
   - Backup & Recovery ì „ëµ
   - ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬
   - Audit log

4. **ìš´ì˜ ê³ ë„í™”**
   - ì•Œë¦¼ ì‹œìŠ¤í…œ (Slack, Email)
   - Dashboard (Grafana ì—°ë™)
   - ìë™í™” ìŠ¤í¬ë¦½íŠ¸

---

## ğŸ“ ë³€ê²½ ì´ë ¥

- **2025-12-28**: Sprint 5 ê³„íš ìˆ˜ë¦½, í…ŒìŠ¤íŠ¸/ë¬¸ì„œí™” ì´ì—° ê²°ì •
- **2024-XX-XX**: Sprint 4 ì™„ë£Œ (CheckTemplate/Instance ë¦¬íŒ©í† ë§)
